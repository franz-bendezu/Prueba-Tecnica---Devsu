<h1>Productos</h1>

<div class="product-bar">
  <input
    class="search"
    type="text"
    [(ngModel)]="search"
    placeholder="Nombre del producto"
  />
  <app-button class="add-button" (click)="addProduct()">Agregar</app-button>
</div>

<app-product-confirm-delete-dialog
  *ngIf="productToDelete"
  [product]="productToDelete"
  [(open)]="openDialog"
  [loading]="loadingDelete"
  (reject)="cancelDelete()"
  (confirm)="confirmDelete(productToDelete)"
></app-product-confirm-delete-dialog>

<app-product-table
  class="product-table"
  [products]="products"
  (delete)="deleteProduct($event)"
  (edit)="editProduct($event)"
  [loading]="loading"
>
  <p *ngIf="error" no-data>
    Error al cargar los productos
    <button (click)="loadProducts()">Reintentar</button>
  </p>
  <p *ngIf="!loading" no-data>No hay productos</p>
</app-product-table>
