<h1>Productos</h1>

<div class="product-bar">
  <input
    class="search"
    type="text"
    [(ngModel)]="search"
    placeholder="Nombre del producto"
  />
  <app-button class="add-button" (click)="addProduct()">Agregar</app-button>
</div>

<app-product-confirm-delete-dialog
  *ngIf="productToDelete"
  [product]="productToDelete"
  [(open)]="openDialog"
  (reject)="cancelDelete()"
  (confirm)="confirmDelete(productToDelete)"
></app-product-confirm-delete-dialog>

<app-product-table
  class="product-table"
  [products]="products"
  (delete)="deleteProduct($event)"
  (edit)="editProduct($event)"
>
  <p *ngIf="error; else loading" no-data>
    Error al cargar los productos
    <button (click)="loadProducts()">Reintentar</button>
  </p>
  <ng-template #loading no-data>
    <p>Cargando productos...</p>
  </ng-template>
</app-product-table>
